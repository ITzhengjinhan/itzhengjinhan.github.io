<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="promise,async/await详解, IT默小涵的个人博客">
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>promise,async/await详解 | IT默小涵的个人博客</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 5.2.0"><link rel="stylesheet" href="/css/prism.css" type="text/css"></head>




<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">IT默小涵的个人博客</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">IT默小涵的个人博客</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/ITzhengjinhan" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/ITzhengjinhan" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/36.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">promise,async/await详解</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        height: calc(100vh - 250px);
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/%E5%BC%82%E6%AD%A5%E6%96%B9%E6%A1%88/">
                                <span class="chip bg-color">异步方案</span>
                            </a>
                        
                            <a href="/tags/promise/">
                                <span class="chip bg-color">promise</span>
                            </a>
                        
                            <a href="/tags/async-await/">
                                <span class="chip bg-color">async/await</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/js/" class="post-category">
                                js
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2020-07-08
                </div>
                

                

                

                

                
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <h3 id="一、Promise-定义"><a href="#一、Promise-定义" class="headerlink" title="一、Promise 定义"></a>一、Promise 定义</h3><p>Promise 是异步编程的一种解决方案，比传统的解决方案——回调函数和事件——更合理和更强大。它由社区最早提出和实现，ES6 将其写进了语言标准，统一了用法，原生提供了 Promise 对象。<br>所谓 Promise，简单说就是一个容器，里面保存着某个未来才会结束的事件（通常是一个异步操作）的结果。从语法上说，Promise 是一个对象，从它可以获取异步操作的消息。<br>Promise 提供统一的 API，各种异步操作都可以用同样的方法进行处理。</p>
<h4 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h4><ol>
<li>对象的状态不受外界影响<br>只有异步操作的结果，可以决定当前是哪一种状态，任何其他操作都无法改变这个状态</li>
</ol>
<pre><code>pending：进行中
fullfilled：已成功
rejected：已失败</code></pre><ol start="2">
<li>一旦状态改变，就不会在变，任何时候得到的都是这个结果</li>
</ol>
<pre><code>Promise对象的状态改变，只有两种可能：
从pending变为fulfilled
从pending变为rejected</code></pre><h4 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h4><p>首先，无法取消 Promise，一旦新建它就会立即执行，无法中途取消。<br>其次，如果不设置回调函数，Promise 内部抛出的错误，不会反应到外部<br>第三，当处于 pending 状态时，无法得知目前进展到哪一个阶段（刚刚开始还是即将完成）</p>
<h4 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h4><pre><code>const promise = new Promise(function(resolve, reject) &#123;
  if (true)&#123;
    resolve(2);
  &#125; else &#123;
    reject(3);
  &#125;
&#125;);

promise.then((value) =&gt; &#123;
    console.log(value)
&#125;, (err) =&gt; &#123;
    console.log(err)
&#125;)
Promise构造函数接受一个函数作为参数，该函数的两个参数分别是resolve和reject。
它们是两个函数，由 JavaScript 引擎提供，不用自己部署
resolve函数的作用是，将Promise对象的状态从“未完成”变为“成功”（即从 pending 变为 resolved），在异步操作成功时调用，并将异步操作的结果，作为参数传递出去；
reject函数的作用是，将Promise对象的状态从“未完成”变为“失败”（即从 pending 变为 rejected），在异步操作失败时调用，并将异步操作报出的错误，作为参数传递出去。
</code></pre><h4 id="resolve-和-reject-不会终结-Promise-参数函数执行-且-Promise-参数函数执行值同步的，then-的执行才是异步的。"><a href="#resolve-和-reject-不会终结-Promise-参数函数执行-且-Promise-参数函数执行值同步的，then-的执行才是异步的。" class="headerlink" title="resolve 和 reject 不会终结 Promise 参数函数执行;且 Promise 参数函数执行值同步的，then 的执行才是异步的。"></a>resolve 和 reject 不会终结 Promise 参数函数执行;且 Promise 参数函数执行值同步的，then 的执行才是异步的。</h4><pre><code>new Promise((resolve, reject) =&gt; &#123;
  resolve(1);
  console.log(2);
&#125;).then(r =&gt; &#123;
  console.log(r);
&#125;);

// 2
// 1</code></pre><h4 id="模拟-Ajax-操作例子"><a href="#模拟-Ajax-操作例子" class="headerlink" title="模拟 Ajax 操作例子"></a>模拟 Ajax 操作例子</h4><pre><code>const getJSON = function(url) &#123;
  const promise = new Promise(function(resolve, reject)&#123;
    const handler = function() &#123;
      if (this.readyState !== 4) &#123;
        return;
      &#125;
      if (this.status === 200) &#123;
        resolve(this.response);
      &#125; else &#123;
        reject(new Error(this.statusText));
      &#125;
    &#125;;
    const client = new XMLHttpRequest();
    client.open(&quot;GET&quot;, url);
    client.onreadystatechange = handler;
    client.responseType = &quot;json&quot;;
    client.setRequestHeader(&quot;Accept&quot;, &quot;application/json&quot;);
    client.send();

  &#125;);

  return promise;
&#125;;

getJSON(&quot;/posts.json&quot;).then(function(json) &#123;
  console.log(&#39;Contents: &#39; + json);
&#125;, function(error) &#123;
  console.error(&#39;出错了&#39;, error);
&#125;);</code></pre><h4 id="Promise-prototype-catch"><a href="#Promise-prototype-catch" class="headerlink" title="Promise.prototype.catch"></a>Promise.prototype.catch</h4><pre><code>let promise = new Promise(function(resolve, reject) &#123;
  if (false)&#123;
    throw new Error(123);
    resolve(2);
  &#125; else &#123;
    reject(3);
  &#125;
&#125;);

promise.then((value) =&gt; &#123;
    console.log(value)
&#125;, (err) =&gt; &#123;
    console.log(err)  // 输出error
&#125;)

promise.then((value) =&gt; &#123;
    console.log(value)
&#125;).catch((err) =&gt; &#123;
    console.log(err)  // 输出error
&#125;)
上面的代码等价，Promise.prototype.catch() 方法是 .then(null, rejection) 或 .then(undefined, rejection) 的别名，
用于指定发生错误时的回调函数。</code></pre><p>一般建议，Promise 对象后面要跟 catch()方法，这样可以处理 Promise 内部发生的错误。catch()方法返回的还是一个 Promise 对象，因此后面还可以接着调用 then()方法。</p>
<h4 id="Promise-prototype-finally"><a href="#Promise-prototype-finally" class="headerlink" title="Promise.prototype.finally"></a>Promise.prototype.finally</h4><p>finally()方法用于指定不管 Promise 对象最后状态如何，都会执行的操作。该方法是 ES2018 引入标准的。</p>
<pre><code>promise
.then(result =&gt; &#123;···&#125;)
.catch(error =&gt; &#123;···&#125;)
.finally(() =&gt; &#123;···&#125;);</code></pre><p>finally 方法的回调函数不接受任何参数，这意味着没有办法知道，前面的 Promise 状态到底是 fulfilled 还是 rejected。<br>这表明，finally 方法里面的操作，应该是与状态无关的，不依赖于 Promise 的执行结果。</p>
<pre><code>let promise = new Promise(function(resolve, reject) &#123;
  if (true)&#123;
    resolve(2);
  &#125; else &#123;
    reject(3);
  &#125;
&#125;);

promise.then((value) =&gt; &#123;
    console.log(value)
&#125;).catch((err) =&gt; &#123;
    console.log(err)  // 输出error
&#125;).finally(() =&gt; &#123;
    console.log(&#39;over&#39;)
&#125;)</code></pre><h3 id="二、promise-方法"><a href="#二、promise-方法" class="headerlink" title="二、promise 方法"></a>二、promise 方法</h3><p><img src="https://pic.imgdb.cn/item/65ec9a859f345e8d03d565af.png" alt=""></p>
<h4 id="promise-all"><a href="#promise-all" class="headerlink" title="promise.all"></a>promise.all</h4><p>Promise.all 用于将多个 Promise 示例，包装秤一个新的 Promise 实例<br>const p = Promise.all([p1, p2, p3]);<br>p 的状态由 p1、p2、p3 决定，分成两种情况。<br>只有 p1、p2、p3 的状态都变成 fulfilled，p 的状态才会变成 fulfilled，此时 p1、p2、p3 的返回值组成一个数组，传递给 p 的回调函数。<br>只要 p1、p2、p3 之中有一个被 rejected，p 的状态就变成 rejected，此时第一个被 reject 的实例的返回值，会传递给 p 的回调函数。</p>
<p>观察下面两个例子：</p>
<pre><code>const p1 = new Promise((resolve, reject) =&gt; &#123;
  resolve(&#39;hello&#39;);
&#125;)
.then(result =&gt; result)
.catch(e =&gt; e);

const p2 = new Promise((resolve, reject) =&gt; &#123;
  throw new Error(&#39;报错了&#39;);
&#125;)
.then(result =&gt; result)
.catch(e =&gt; e);

Promise.all([p1, p2])
.then(result =&gt; console.log(result))
.catch(e =&gt; console.log(e));</code></pre><p>结果：<br><img src="https://pic.imgdb.cn/item/65ec9a9c9f345e8d03d5d3d2.png" alt=""></p>
<pre><code>const p1 = new Promise((resolve, reject) =&gt; &#123;
  resolve(&#39;hello&#39;);
&#125;)
.then(result =&gt; result)
.catch(e =&gt; e);

const p2 = new Promise((resolve, reject) =&gt; &#123;
  throw new Error(&#39;报错了&#39;);
&#125;)
.then(result =&gt; result)

Promise.all([p1, p2])
.then(result =&gt; console.log(result))
.catch(e =&gt; console.log(e));</code></pre><p>结果：<br><img src="https://pic.imgdb.cn/item/65ec9aac9f345e8d03d61a5d.png" alt=""></p>
<p>p1 会 resolved，p2 首先会 rejected，但是 p2 有自己的 catch 方法，该方法返回的是一个新的 Promise 实例，p2 指向的实际上是这个实例。<br>该实例执行完 catch 方法后，也会变成 resolved，导致 Promise.all()方法参数里面的两个实例都会 resolved，因此会调用 then 方法指定的回调函数，而不会调用 catch 方法指定的回调函数。<br>如果 p2 没有自己的 catch 方法，就会调用 Promise.all()的 catch 方法。</p>
<h4 id="Promise-race"><a href="#Promise-race" class="headerlink" title="Promise.race"></a>Promise.race</h4><p>const p = Promise.race([p1, p2, p3]);<br>只要 p1、p2、p3 之中有一个实例率先改变状态，p 的状态就跟着改变。那个率先改变的 Promise 实例的返回值，就传递给 p 的回调函数。</p>
<pre><code>const p1 = new Promise((resolve, reject) =&gt; &#123;
  setTimeout(() =&gt; &#123;
    resolve(&#39;p1&#39;);
  &#125;, 1000)
&#125;)

const p2 = new Promise((resolve, reject) =&gt; &#123;
  setTimeout(() =&gt; &#123;
    reject(&#39;p2&#39;);
  &#125;, 500)
&#125;)

const p = Promise.race([p1, p2]).then(result =&gt; &#123;
  console.log(result)
&#125;).catch(err =&gt; &#123;
  console.log(err);//输出P2
&#125;);</code></pre><p>结果：p2</p>
<h4 id="Promise-allSettled"><a href="#Promise-allSettled" class="headerlink" title="Promise.allSettled"></a>Promise.allSettled</h4><p>Promise.allSettled()方法接受一组 Promise 实例作为参数，包装成一个新的 Promise 实例。<br>只有等到所有这些参数实例都返回结果，不管是 fulfilled 还是 rejected，包装实例才会结束。<br>该方法由 ES2020 引入</p>
<pre><code>const p1 = new Promise((resolve, reject) =&gt; &#123;
  setTimeout(() =&gt; &#123;
    reject(&#39;p1&#39;);
  &#125;, 1000)
&#125;)

const p2 = new Promise((resolve, reject) =&gt; &#123;
  setTimeout(() =&gt; &#123;
    reject(&#39;p2&#39;);
  &#125;, 500)
&#125;)

const p = Promise.allSettled([p1, p2]).then(result =&gt; &#123;
  console.log(result)
&#125;).catch(err =&gt; &#123;
  console.log(err);
&#125;);</code></pre><p>结果：<br><img src="https://pic.imgdb.cn/item/65ec9abf9f345e8d03d67844.png" alt=""></p>
<h4 id="Promise-any"><a href="#Promise-any" class="headerlink" title="Promise.any"></a>Promise.any</h4><p>ES2021 引入了 Promise.any()方法。该方法接受一组 Promise 实例作为参数，包装成一个新的 Promise 实例返回。<br>只要参数实例有一个变成 fulfilled 状态，包装实例就会变成 fulfilled 状态；如果所有参数实例都变成 rejected 状态，包装实例就会变成 rejected 状态。</p>
<pre><code>Promise.any(promises).then(
  (first) =&gt; &#123;
    // Any of the promises was fulfilled.
  &#125;,
  (error) =&gt; &#123;
    // All of the promises were rejected.
  &#125;
);

const p1 = new Promise((resolve, reject) =&gt; &#123;
  setTimeout(() =&gt; &#123;
    reject(&#39;p1&#39;);
  &#125;, 1000)
&#125;)

const p2 = new Promise((resolve, reject) =&gt; &#123;
  setTimeout(() =&gt; &#123;
    reject(&#39;p2&#39;);
  &#125;, 500)
&#125;)

const p = Promise.any([p1, p2]).then(result =&gt; &#123;
  console.log(result)
&#125;).catch(err =&gt; &#123;
  console.log(err);
&#125;);</code></pre><p>结果：<br><img src="https://pic.imgdb.cn/item/65ec9ace9f345e8d03d6bf2e.png" alt=""></p>
<h3 id="三、async-await-定义"><a href="#三、async-await-定义" class="headerlink" title="三、async/await 定义"></a>三、async/await 定义</h3><p>async 函数是 Generator 函数的语法糖。使用关键字 async 来表示，在函数内部使用 await 来表示异步，await 关键字只能用在 async 定义的函数内<br>他的作用是用同步的方式，执行异步操作</p>
<p>比如我现在有一个需求：先请求完接口 1，再去请求接口 2，我们通常会这么做</p>
<pre><code>function request(num) &#123; // 模拟接口请求
  return new Promise(resolve =&gt; &#123;
    setTimeout(() =&gt; &#123;
      resolve(num * 2)
    &#125;, 1000)
  &#125;)
&#125;

request(1).then(res1 =&gt; &#123;
  console.log(res1) // 1秒后 输出 2

  request(2).then(res2 =&gt; &#123;
    console.log(res2) // 2秒后 输出 4
  &#125;)
&#125;)</code></pre><p>其实这么做是没问题的，但是如果嵌套的多了，不免有点不雅观，这个时候就可以用 async/await 来解决了</p>
<pre><code>async function fn () &#123;
  const res1 = await request(5)
  const res2 = await request(res1)
  console.log(res2) // 2秒后输出 20
&#125;
fn()</code></pre><h4 id="await-只能在-async-函数中使用，不然会报错"><a href="#await-只能在-async-函数中使用，不然会报错" class="headerlink" title="await 只能在 async 函数中使用，不然会报错"></a>await 只能在 async 函数中使用，不然会报错</h4><h4 id="await-后面都是跟着异步操作-Promise"><a href="#await-后面都是跟着异步操作-Promise" class="headerlink" title="await 后面都是跟着异步操作 Promise"></a>await 后面都是跟着异步操作 Promise</h4><p>刚刚上面的例子 await 后面都是跟着异步操作 Promise，那如果不接 Promise 会怎么样呢？</p>
<pre><code>function request(num) &#123; // 去掉Promise
  setTimeout(() =&gt; &#123;
    console.log(num * 2)
  &#125;, 1000)
&#125;

async function fn() &#123;
  await request(1) // 2
  await request(2) // 4
  // 1秒后执行完  同时输出
&#125;
fn()</code></pre><p>可以看出，如果 await 后面接的不是 Promise 的话，有可能其实是达不到排队的效果的</p>
<h4 id="async-函数返回一个-Promise-对象"><a href="#async-函数返回一个-Promise-对象" class="headerlink" title="async 函数返回一个 Promise 对象"></a>async 函数返回一个 Promise 对象</h4><p>async 函数执行完会自动返回一个状态为 fulfilled 的 Promise，也就是成功状态，但是值却是 undefined，<br>那要怎么才能使值不是 undefined 呢？很简单，函数有 return 返回值就行了</p>
<pre><code>async function fn (num) &#123;
  return num
&#125;
console.log(fn) // [AsyncFunction: fn]
console.log(fn(10)) // Promise &#123;&lt;fulfilled&gt;: 10&#125;
fn(10).then(res =&gt; console.log(res)) // 10</code></pre><h4 id="async-await-异常处理"><a href="#async-await-异常处理" class="headerlink" title="async/await 异常处理"></a>async/await 异常处理</h4><p>有时，我们希望即使前一个异步操作失败，也不要中断后面的异步操作。<br>这时可以将第一个 await 放在 try…catch 结构里面，这样不管这个异步操作是否成功，第二个 await 都会执行。</p>
<pre><code>async function test()&#123;
    try&#123;
        await promisel
    &#125;catch(e)&#123;
        await promise2//异常处理
    &#125;
&#125;</code></pre><h3 id="四、js-程序执行顺序-‘同步-微任务-宏任务’"><a href="#四、js-程序执行顺序-‘同步-微任务-宏任务’" class="headerlink" title="四、js 程序执行顺序-‘同步-微任务-宏任务’"></a>四、js 程序执行顺序-‘同步-微任务-宏任务’</h3><p>面试题一</p>
<pre><code>const promise1 = new Promise((resolve, reject) =&gt; &#123;
  console.log(&#39;promise1&#39;)
  resolve(&#39;resolve1&#39;)
&#125;)
const promise2 = promise1.then(res =&gt; &#123;
  console.log(res)
&#125;)
console.log(&#39;1&#39;, promise1)
console.log(&#39;2&#39;, promise2)</code></pre><p>分析：</p>
<p>先遇到 new Promise，执行该构造函数中的代码输出 promise1<br>遇到 resolve 函数, 将 promise1 的状态改变为 fulfilled, 并将结果保存下来<br>碰到 promise1.then 这个微任务，返回的是 Promise 的 pending 状态，将它放入微任务队列<br>故 promise2 是一个新的状态为 pending 的 Promise<br>继续执行同步代码输出 promise1 的状态是 fulfilled，输出 promise2 的状态是 pending<br>宏任务执行完毕，查找微任务队列，发现 promise1.then 这个微任务且状态为 fulfilled，执行它。</p>
<p>输出结果：</p>
<pre><code>promise1
1 Promise&#123;&lt;fulfilled&gt;: &#39;resolve1&#39;&#125;
2 Promise&#123;&lt;pending&gt;&#125;
resolve1</code></pre><p>面试题二</p>
<pre><code>const promise = new Promise((resolve, reject) =&gt; &#123;
  console.log(1)
  setTimeout(() =&gt; &#123;
    console.log(&#39;timerStart&#39;)
    resolve(&#39;success&#39;)
    console.log(&#39;timerEnd&#39;)
  &#125;, 0)
  console.log(2)
&#125;)
promise.then(res =&gt; &#123;
  console.log(res)
&#125;)
console.log(4)</code></pre><p>分析：</p>
<p>执行 new Promsise，输出 1，setTimeout 宏任务加到宏任务队列，继续执行同步代码输出 2<br>遇到 promise.then，但其状态还是 pending，这里理解为先不执行；然后输出同步代码 4<br>一轮循环过后，进入第二次宏任务，发现延迟队列中有 setTimeout 定时器，执行它<br>输出 timerStart，遇到 resolve，将 promise 的状态改为 fulfilled 且保存结果并将之前的 promise.then 推入微任务队列<br>继续执行同步代码 timerEnd<br>宏任务全部执行完毕，查找微任务队列，发现 promise.then 这个微任务，执行它。</p>
<p>输出结果：</p>
<pre><code>1
2
4
timerStart
timerEnd
success</code></pre><p>面试题三</p>
<pre><code>const promise = new Promise((resolve, reject) =&gt; &#123;
  reject(&#39;error&#39;)
  resolve(&#39;success2&#39;)
&#125;)
promise
  .then(res =&gt; &#123;
    console.log(&#39;then1: &#39;, res)
  &#125;)
  .then(res =&gt; &#123;
    console.log(&#39;then2: &#39;, res)
  &#125;)
  .catch(err =&gt; &#123;
    console.log(&#39;catch: &#39;, err)
  &#125;)
  .then(res =&gt; &#123;
    console.log(&#39;then3: &#39;, res)
  &#125;)</code></pre><p>分析：</p>
<p>catch 不管被连接到哪里，都能捕获上层未捕捉过的错误。<br>由于 catch()也会返回一个 Promise，且由于这个 Promise 没有返回值，所以打印出来的是 undefined。<br>输出结果：</p>
<pre><code>catch:  error
then3:  undefined</code></pre><p>面试题四</p>
<pre><code>Promise.reject(&#39;err!!!&#39;)
  .then(
    res =&gt; &#123;
      console.log(&#39;success&#39;, res)
    &#125;,
    err =&gt; &#123;
      console.log(&#39;error&#39;, err)
    &#125;
  )
  .catch(err =&gt; &#123;
    console.log(&#39;catch&#39;, err)
  &#125;)</code></pre><p>分析：</p>
<p>.then 函数的第一个参数是用来处理 Promise 成功的函数，第二个则是处理失败的函数。<br>Promise.resolve(‘err!!!’)的值会进入成功的函数，Promise.reject(‘err!!!’)的值会进入失败的函数。<br>如果去掉第二个参数，就会进入 catch()中</p>
<p>输出结果：</p>
<pre><code>&#39;error&#39; &#39;error!!!&#39;</code></pre><p>面试题五</p>
<pre><code>async function async1() &#123;
    console.log(&quot;async1 start&quot;);
    await async2();
    console.log(&quot;async1 end&quot;);
    return &#39;async return&#39;;
&#125;

async function async2() &#123;
    console.log(&quot;async2&quot;);
&#125;

console.log(&quot;script start&quot;);

setTimeout(function() &#123;
    console.log(&quot;setTimeout&quot;);
&#125;, 0);

async1().then(function (message) &#123; console.log(message) &#125;);

new Promise(function(resolve) &#123;
    console.log(&quot;promise1&quot;);
    resolve();
&#125;).then(function() &#123;
    console.log(&quot;promise2&quot;);
&#125;);
console.log(&quot;script end&quot;);

输出结果：
script start   同步先执行
async1 start   同步
async2           遇到await,先执行await后面的函数，但其他的会进入到微队列
promise1       同步，同时把async1放进微队列
script end     同步执行完毕，promise2进入微队列
async1 end     执行微队列，然后把它的 then 逻辑添加到任务
promise2       promise 实例 继续执行它的 then 的逻辑，打印：promise2
async return   async 函数执行 then 逻辑
setTimeout       setTimeout是宏任务会在最后执行。</code></pre><p>面试题六</p>
<pre><code>async function async1() &#123;
  console.log(&#39;async1 start&#39;)
  await new Promise(resolve =&gt; &#123;
    console.log(&#39;promise1&#39;)
  &#125;)
  console.log(&#39;async1 success&#39;)
  return &#39;async1 end&#39;
&#125;
console.log(&#39;srcipt start&#39;)
async1().then(res =&gt; console.log(res))
console.log(&#39;srcipt end&#39;)</code></pre><p>分析：</p>
<p>在 async1 中 await 后面的 Promise 是没有返回值的，也就是它的初始状态是 pending 状态，因此相当于一直在 await<br>所以在 await 下行的内容是不会执行的，也包括 async1 后面的.then。</p>
<p>输出结果：</p>
<pre><code>srcipt start
async1 start
promise1
srcipt end</code></pre><p>面试题七</p>
<pre><code>async function async1() &#123;
  await async2()
  console.log(&#39;async1&#39;)
  return &#39;async1 success&#39;
&#125;
async function async2() &#123;
  return new Promise((resolve, reject) =&gt; &#123;
    console.log(&#39;async2&#39;)
    reject(&#39;error&#39;)
  &#125;)
&#125;
async1().then(res =&gt; console.log(res))</code></pre><p>分析：</p>
<p>await 后面跟着的是一个状态为 rejected 的 promise。<br>如果在 async 函数中抛出了错误，则终止错误结果，不会继续向下执行。</p>
<p>输出结果：</p>
<pre><code>async2
Uncaught (in promise) error</code></pre>
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">zhengjinhan</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://itzhengjinhan.github.io/2020/07/08/promise,async,await%E8%AF%A6%E8%A7%A3/">http://itzhengjinhan.github.io/2020/07/08/promise,async,await%E8%AF%A6%E8%A7%A3/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">zhengjinhan</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/%E5%BC%82%E6%AD%A5%E6%96%B9%E6%A1%88/">
                                    <span class="chip bg-color">异步方案</span>
                                </a>
                            
                                <a href="/tags/promise/">
                                    <span class="chip bg-color">promise</span>
                                </a>
                            
                                <a href="/tags/async-await/">
                                    <span class="chip bg-color">async/await</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2020/08/05/%E8%B7%A8%E5%9F%9F%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E6%80%BB%E7%BB%93/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/46.jpg" class="responsive-img" alt="总结跨域的解决方法">
                        
                        <span class="card-title">总结跨域的解决方法</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2020-08-05
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/js/" class="post-category">
                                    js
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E8%B7%A8%E5%9F%9F/">
                        <span class="chip bg-color">跨域</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2020/07/04/js%E8%B7%B3%E5%87%BAforEach%E7%9A%84%E6%96%B9%E6%B3%95/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/45.jpg" class="responsive-img" alt="js使用类似break机制中断forEach循环的方法">
                        
                        <span class="card-title">js使用类似break机制中断forEach循环的方法</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2020-07-04
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/js/" class="post-category">
                                    js
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/break/">
                        <span class="chip bg-color">break</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


<!-- 代码块折行 -->

<style type="text/css">
code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }
</style>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="503838841"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>

    
    <div class="container row center-align" style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            <span id="year">2019</span>
            <a href="/about" target="_blank">zhengjinhan</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/ITzhengjinhan" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:1035420153@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1035420153" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 1035420153" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
